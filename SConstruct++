env = Environment()
env.Append(CPPPATH = ["src"])
#env.Append(CPPPATH = ["/usr/include"])
Export("env")
test_env = Environment()
test_env["have_boost_test"] = False
Export("test_env")

import distutils.sysconfig
env.AppendUnique(CPPPATH = distutils.sysconfig.get_python_inc())
version = distutils.sysconfig.get_config_var("VERSION")
if not version:
    version = sys.version[:3]
if env["PLATFORM"] == "win32":
    version = version.replace('.', '')
env.AppendUnique(LIBPATH = distutils.sysconfig.get_config_var("LIBDIR") or \
                               os.path.join(distutils.sysconfig.get_config_var("prefix"), "libs") )
env.AppendUnique(LIBS = "python" + version)
env.AppendUnique(LIBS = ["boost_filesystem", "boost_system", "boost_python", "boost_program_options", "sqlite3"])
env.AppendUnique(CCFLAGS = Split("-Wall -O0 -ggdb -Wno-deprecated -Wno-parentheses"), CPPDEFINES = ["BOOST_FILESYSTEM_VERSION=2"])
#env.Append(CCFLAGS = ["-pg"], LINKFLAGS = ["-pg"])

SConscript("src/SConscript")
